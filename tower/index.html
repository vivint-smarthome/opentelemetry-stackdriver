<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `tower` crate."><meta name="keywords" content="rust, rustlang, rust-lang, tower"><title>tower - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../tower/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate tower</p><div class="block version"><p>Version 0.4.4</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all tower's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class="location"></p><script>window.sidebarCurrent = {name: "tower", ty: "mod", relpath: "../"};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/tower/lib.rs.html#1-170" title="goto source code">[src]</a></span><span class="in-band">Crate <a class="mod" href="">tower</a></span></h1><div class="docblock"><p><code>async fn(Request) -&gt; Result&lt;Response, Error&gt;</code></p>
<h1 id="overview" class="section-header"><a href="#overview">Overview</a></h1>
<p>Tower is a library of modular and reusable components for building
robust networking clients and servers.</p>
<p>Tower provides a simple core abstraction, the <a href="../tower/trait.Service.html"><code>Service</code></a> trait, which
represents an asynchronous function taking a request and returning either a
response or an error. This abstraction can be used to model both clients and
servers.</p>
<p>Generic components, like <a href="../tower/timeout/index.html">timeouts</a>, <a href="../tower/limit/rate/index.html">rate limiting</a>, and <a href="../tower/balance/index.html">load balancing</a>,
can be modeled as <a href="../tower/trait.Service.html"><code>Service</code></a>s that wrap some inner service and apply
additional behavior before or after the inner service is called. This allows
implementing these components in a protocol-agnostic, composable way. Typically,
such services are referred to as <em>middleware</em>.</p>
<p>An additional abstraction, the <a href="../tower/layer/trait.Layer.html"><code>Layer</code></a> trait, is used to compose
middleware with <a href="../tower/trait.Service.html"><code>Service</code></a>s. If a <a href="../tower/trait.Service.html"><code>Service</code></a> can be thought of as an
asynchronous function from a request type to a response type, a <a href="../tower/layer/trait.Layer.html"><code>Layer</code></a> is
a function taking a <a href="../tower/trait.Service.html"><code>Service</code></a> of one type and returning a <a href="../tower/trait.Service.html"><code>Service</code></a> of a
different type. The <a href="../tower/builder/struct.ServiceBuilder.html"><code>ServiceBuilder</code></a> type is used to add middleware to a
service by composing it with multiple <a href="../tower/layer/trait.Layer.html"><code>Layer</code></a>s.</p>
<h2 id="the-tower-ecosystem" class="section-header"><a href="#the-tower-ecosystem">The Tower Ecosystem</a></h2>
<p>Tower is made up of the following crates:</p>
<ul>
<li><a href="https://crates.io/crates/tower"><code>tower</code></a> (this crate)</li>
<li><a href="https://crates.io/crates/tower-service"><code>tower-service</code></a></li>
<li><a href="https://crates.io/crates/tower-layer"><code>tower-layer</code></a></li>
<li><a href="https://crates.io/crates/tower-test"><code>tower-test</code></a></li>
</ul>
<p>Since the <a href="../tower/trait.Service.html"><code>Service</code></a> and <a href="../tower/layer/trait.Layer.html"><code>Layer</code></a> traits are important integration points
for all libraries using Tower, they are kept as stable as possible, and
breaking changes are made rarely. Therefore, they are defined in separate
crates, <a href="https://crates.io/crates/tower-service"><code>tower-service</code></a> and <a href="https://crates.io/crates/tower-layer"><code>tower-layer</code></a>. This crate contains
re-exports of those core traits, implementations of commonly-used
middleware, and <a href="../tower/trait.ServiceExt.html">utilities</a> for working with <a href="../tower/trait.Service.html"><code>Service</code></a>s and <a href="../tower/layer/trait.Layer.html"><code>Layer</code></a>s.
Finally, the <a href="https://crates.io/crates/tower-test"><code>tower-test</code></a> crate provides tools for testing programs using
Tower.</p>
<h1 id="usage" class="section-header"><a href="#usage">Usage</a></h1>
<p>The various middleware implementations provided by this crate are feature
flagged, so that users can only compile the parts of Tower they need. By
default, all the optional middleware are disabled.</p>
<p>To get started using all of Tower's optional middleware, add this to your
<code>Cargo.toml</code>:</p>
<pre><code class="language-toml">tower = { version = &quot;0.4&quot;, features = [&quot;full&quot;] }
</code></pre>
<p>Alternatively, you can only enable some features. For example, to enable
only the <a href="crate::retry"><code>retry</code></a> and <a href="../tower/timeout/index.html"><code>timeout</code></a> middleware, write:</p>
<pre><code class="language-toml">tower = { version = &quot;0.4&quot;, features = [&quot;retry&quot;, &quot;timeout&quot;] }
</code></pre>
<p>See <a href="#modules">here</a> for a complete list of all middleware provided by
Tower.</p>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="balance/index.html" title="tower::balance mod">balance</a></td><td class="docblock-short"><p>Middleware that allows balancing load among multiple services.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="buffer/index.html" title="tower::buffer mod">buffer</a></td><td class="docblock-short"><p>Middleware that provides a buffered mpsc channel to a service.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="builder/index.html" title="tower::builder mod">builder</a></td><td class="docblock-short"><p>Builder types to compose layers and services</p>
</td></tr><tr class="module-item"><td><a class="mod" href="discover/index.html" title="tower::discover mod">discover</a></td><td class="docblock-short"><p>Service discovery</p>
</td></tr><tr class="module-item"><td><a class="mod" href="layer/index.html" title="tower::layer mod">layer</a></td><td class="docblock-short"><p>A collection of <a href="../tower/layer/trait.Layer.html"><code>Layer</code></a> based tower services</p>
</td></tr><tr class="module-item"><td><a class="mod" href="limit/index.html" title="tower::limit mod">limit</a></td><td class="docblock-short"><p>Tower middleware for limiting requests.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="load/index.html" title="tower::load mod">load</a></td><td class="docblock-short"><p>Service load measurement</p>
</td></tr><tr class="module-item"><td><a class="mod" href="make/index.html" title="tower::make mod">make</a></td><td class="docblock-short"><p>Trait aliases for Services that produce specific types of Responses.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="ready_cache/index.html" title="tower::ready_cache mod">ready_cache</a></td><td class="docblock-short"><p>A cache of services</p>
</td></tr><tr class="module-item"><td><a class="mod" href="timeout/index.html" title="tower::timeout mod">timeout</a></td><td class="docblock-short"><p>Middleware that applies a timeout to requests.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="util/index.html" title="tower::util mod">util</a></td><td class="docblock-short"><p>Various utility types and functions that are generally used with Tower.</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.ServiceBuilder.html" title="tower::ServiceBuilder struct">ServiceBuilder</a></td><td class="docblock-short"><p>Declaratively construct <a href="../tower/trait.Service.html"><code>Service</code></a> values.</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.Layer.html" title="tower::Layer trait">Layer</a></td><td class="docblock-short"><p>Decorates a <a href="../tower/trait.Service.html"><code>Service</code></a>, transforming either the request or the response.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.MakeService.html" title="tower::MakeService trait">MakeService</a></td><td class="docblock-short"><p>Creates new <a href="../tower/trait.Service.html" title="Service"><code>Service</code></a> values.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Service.html" title="tower::Service trait">Service</a></td><td class="docblock-short"><p>An asynchronous function from a <code>Request</code> to a <code>Response</code>.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.ServiceExt.html" title="tower::ServiceExt trait">ServiceExt</a></td><td class="docblock-short"><p>An extension trait for <code>Service</code>s that provides a variety of convenient
adapters</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.service_fn.html" title="tower::service_fn fn">service_fn</a></td><td class="docblock-short"><p>Returns a new <a href="../tower/util/struct.ServiceFn.html" title="ServiceFn"><code>ServiceFn</code></a> with the given closure.</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.BoxError.html" title="tower::BoxError type">BoxError</a></td><td class="docblock-short"><p>Alias for a type-erased error type.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "tower";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>